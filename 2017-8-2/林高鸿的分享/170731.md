>##	äº’è”ç½‘åè®®

- **OSIä¸ƒå±‚æ¨¡åž‹**
- **TCP/IPå››å±‚æ¨¡åž‹**
- **äº”å±‚æ¨¡åž‹: Physical Layer,Link Layer,Network Layer,Transport Layer,Application Layer**

å¤§å®¶éƒ½éµå®ˆçš„è§„åˆ™ï¼Œå°±å«åš"åè®®"ï¼ˆprotocolï¼‰

**ç‰©ç†æ‰‹æ®µ  ç”µæ°”ç‰¹æ€§  0å’Œ1çš„ç”µä¿¡å·**

**ç¡®å®šäº†0å’Œ1çš„åˆ†ç»„æ–¹å¼**

Ethernet Frame æ ‡å¤´ï¼ˆHeadï¼‰å’Œæ•°æ®ï¼ˆDataï¼‰

**äº’è”ç½‘æ˜¯æ— æ•°å­ç½‘ç»œå…±åŒç»„æˆçš„ä¸€ä¸ªå·¨åž‹ç½‘ç»œ**

ç½‘ç»œåœ°å€å¸®åŠ©æˆ‘ä»¬ç¡®å®šè®¡ç®—æœºæ‰€åœ¨çš„å­ç½‘ç»œï¼ŒMACåœ°å€åˆ™å°†æ•°æ®åŒ…é€åˆ°è¯¥å­ç½‘ç»œä¸­çš„ç›®æ ‡ç½‘å¡

subnet mask

**IPåè®®çš„ä½œç”¨ä¸»è¦æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯ä¸ºæ¯ä¸€å°è®¡ç®—æœºåˆ†é…IPåœ°å€ï¼Œå¦ä¸€ä¸ªæ˜¯ç¡®å®šå“ªäº›åœ°å€åœ¨åŒä¸€ä¸ªå­ç½‘ç»œ**

**IPæ•°æ®åŒ…ç›´æŽ¥æ”¾è¿›ä»¥å¤ªç½‘æ•°æ®åŒ…çš„"æ•°æ®"éƒ¨åˆ†,**äº’è”ç½‘åˆ†å±‚ç»“æž„çš„å¥½å¤„:ä¸Šå±‚çš„å˜åŠ¨å®Œå…¨ä¸æ¶‰åŠä¸‹å±‚çš„ç»“æž„

gateway

**è¿›ç¨‹ port:æ¯ä¸€ä¸ªä½¿ç”¨ç½‘å¡çš„ç¨‹åºçš„ç¼–å· 0-65535(0-1023)**

åº”ç”¨ç¨‹åºä¼šéšæœºé€‰ç”¨ä¸€ä¸ªç«¯å£ï¼Œç„¶åŽä¸ŽæœåŠ¡å™¨çš„ç›¸åº”ç«¯å£è”ç³»

**"ä¼ è¾“å±‚"å»ºç«‹"ç«¯å£åˆ°ç«¯å£"çš„é€šä¿¡,"ç½‘ç»œå±‚"å»ºç«‹"ä¸»æœºåˆ°ä¸»æœº"çš„é€šä¿¡ã€‚ç¡®å®šä¸»æœºå’Œç«¯å£ï¼Œå®žçŽ°ç¨‹åºä¹‹é—´çš„äº¤æµ**

UDP:å°½åŠ›è€Œä¸º

**TCP:å°è£…æˆå¸§,å·®é”™æ£€æµ‹,æ‹¥å¡žæŽ§åˆ¶**

**"åº”ç”¨å±‚":è§„å®šåº”ç”¨ç¨‹åºçš„æ•°æ®æ ¼å¼**
  
---
---
---

>##	what-happens-when

æ¯ä¸€æ¬¡æŒ‰é”®éƒ½ä¼šä½¿å¾—ç»™å‡ºçš„å»ºè®®æ›´åŠ å‡†ç¡®

***å½“åè®®æˆ–ä¸»æœºåä¸åˆæ³•æ—¶ï¼Œæµè§ˆå™¨ä¼šå°†åœ°å€æ ä¸­è¾“å…¥çš„æ–‡å­—ä¼ ç»™é»˜è®¤çš„æœç´¢å¼•æ“Ž***

#### DNS æŸ¥è¯¢

- æµè§ˆå™¨æ£€æŸ¥åŸŸåæ˜¯å¦åœ¨ç¼“å­˜å½“ä¸­
- å¦‚æžœç¼“å­˜ä¸­æ²¡æœ‰ï¼Œå°±åŽ»è°ƒç”¨ gethostbyname åº“å‡½æ•°è¿›è¡ŒæŸ¥è¯¢
gethostbyname å‡½æ•°åœ¨è¯•å›¾è¿›è¡ŒDNSè§£æžä¹‹å‰é¦–å…ˆæ£€æŸ¥åŸŸåæ˜¯å¦åœ¨æœ¬åœ° Hosts é‡Œï¼ŒHosts çš„ä½ç½® ä¸åŒçš„æ“ä½œç³»ç»Ÿæœ‰æ‰€ä¸åŒ
- å¦‚æžœ gethostbyname æ²¡æœ‰è¿™ä¸ªåŸŸåçš„ç¼“å­˜è®°å½•ï¼Œä¹Ÿæ²¡æœ‰åœ¨ hosts é‡Œæ‰¾åˆ°ï¼Œå®ƒå°†ä¼šå‘ DNS æœåŠ¡å™¨å‘é€ä¸€æ¡ DNS æŸ¥è¯¢è¯·æ±‚ã€‚DNS æœåŠ¡å™¨æ˜¯ç”±ç½‘ç»œé€šä¿¡æ ˆæä¾›çš„ï¼Œé€šå¸¸æ˜¯æœ¬åœ°è·¯ç”±å™¨æˆ–è€… ISP çš„ç¼“å­˜ DNS æœåŠ¡å™¨
- æŸ¥è¯¢æœ¬åœ° DNS æœåŠ¡å™¨
- ä½¿ç”¨ 53 ç«¯å£å‘ DNS æœåŠ¡å™¨å‘é€ UDP è¯·æ±‚åŒ…ï¼Œ**å¦‚æžœå“åº”åŒ…å¤ªå¤§ï¼Œä¼šä½¿ç”¨ TCP åè®®**
- å¦‚æžœæœ¬åœ°/ISP DNS æœåŠ¡å™¨æ²¡æœ‰æ‰¾åˆ°ç»“æžœï¼Œå®ƒä¼šå‘é€ä¸€ä¸ª**é€’å½’æŸ¥è¯¢**è¯·æ±‚ï¼Œä¸€å±‚ä¸€å±‚å‘é«˜å±‚ DNS æœåŠ¡å™¨åšæŸ¥è¯¢ï¼Œç›´åˆ°æŸ¥è¯¢åˆ°èµ·å§‹æŽˆæƒæœºæž„ï¼Œå¦‚æžœæ‰¾åˆ°ä¼šæŠŠç»“æžœè¿”å›ž

#### ä½¿ç”¨å¥—æŽ¥å­—

- è¿™ä¸ªè¯·æ±‚é¦–å…ˆè¢«äº¤ç»™ä¼ è¾“å±‚ï¼Œåœ¨ä¼ è¾“å±‚è¯·æ±‚è¢«å°è£…æˆ TCP **segment**ã€‚ç›®æ ‡ç«¯å£ä¼šè¢«åŠ å…¥å¤´éƒ¨ï¼Œæºç«¯å£ä¼šåœ¨ç³»ç»Ÿå†…æ ¸çš„åŠ¨æ€ç«¯å£èŒƒå›´å†…é€‰å–ï¼ˆLinuxä¸‹æ˜¯ip_local_port_range)
- TCP segment è¢«é€å¾€ç½‘ç»œå±‚ï¼Œç½‘ç»œå±‚ä¼šåœ¨å…¶ä¸­å†åŠ å…¥ä¸€ä¸ª IP å¤´éƒ¨ï¼Œé‡Œé¢åŒ…å«äº†ç›®æ ‡æœåŠ¡å™¨çš„IPåœ°å€ä»¥åŠæœ¬æœºçš„IPåœ°å€ï¼ŒæŠŠå®ƒå°è£…æˆä¸€ä¸ªTCP **packet**
- è¿™ä¸ª TCP packet æŽ¥ä¸‹æ¥ä¼šè¿›å…¥é“¾è·¯å±‚ï¼Œé“¾è·¯å±‚ä¼šåœ¨å°åŒ…ä¸­åŠ å…¥ **frame** å¤´éƒ¨ï¼Œé‡Œé¢åŒ…å«äº†æœ¬åœ°å†…ç½®ç½‘å¡çš„MACåœ°å€ä»¥åŠç½‘å…³ï¼ˆæœ¬åœ°è·¯ç”±å™¨ï¼‰çš„ MAC åœ°å€ã€‚åƒå‰é¢è¯´çš„ä¸€æ ·ï¼Œå¦‚æžœå†…æ ¸ä¸çŸ¥é“ç½‘å…³çš„ MAC åœ°å€ï¼Œå®ƒå¿…é¡»è¿›è¡Œ ARP å¹¿æ’­æ¥æŸ¥è¯¢å…¶åœ°å€

åˆ°äº†çŽ°åœ¨ï¼ŒTCP å°åŒ…å·²ç»å‡†å¤‡å¥½äº†ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼è¿›è¡Œä¼ è¾“ï¼š

- *ä»¥å¤ªç½‘*
- *WiFi*
- *èœ‚çªæ•°æ®ç½‘ç»œ*

TCP: **ä¸‰æ¬¡æ¡æ‰‹,å››æ¬¡æŒ¥æ‰‹**

#### æµè§ˆå™¨èƒŒåŽçš„æ•…äº‹

å½“æœåŠ¡å™¨æä¾›äº†èµ„æºä¹‹åŽï¼ˆHTMLï¼ŒCSSï¼ŒJSï¼Œå›¾ç‰‡ç­‰ï¼‰ï¼Œæµè§ˆå™¨ä¼šæ‰§è¡Œä¸‹é¢çš„æ“ä½œï¼š

- è§£æž â€”â€” HTMLï¼ŒCSSï¼ŒJS
- æ¸²æŸ“ â€”â€” æž„å»º DOM æ ‘ -> æ¸²æŸ“ -> å¸ƒå±€ -> ç»˜åˆ¶

#### è§£æžç»“æŸä¹‹åŽ

æµè§ˆå™¨å¼€å§‹åŠ è½½ç½‘é¡µçš„å¤–éƒ¨èµ„æºï¼ˆCSSï¼Œå›¾åƒï¼ŒJavascript æ–‡ä»¶ç­‰ï¼‰

æ­¤æ—¶æµè§ˆå™¨æŠŠæ–‡æ¡£æ ‡è®°ä¸ºå¯äº¤äº’çš„ï¼ˆinteractiveï¼‰ï¼Œæµè§ˆå™¨å¼€å§‹è§£æžå¤„äºŽâ€œæŽ¨è¿Ÿï¼ˆdeferredï¼‰â€æ¨¡å¼çš„è„šæœ¬ï¼Œä¹Ÿå°±æ˜¯é‚£äº›éœ€è¦åœ¨æ–‡æ¡£è§£æžå®Œæ¯•ä¹‹åŽå†æ‰§è¡Œçš„è„šæœ¬ã€‚ä¹‹åŽæ–‡æ¡£çš„çŠ¶æ€ä¼šå˜ä¸ºâ€œå®Œæˆï¼ˆcompleteï¼‰â€ï¼Œæµè§ˆå™¨ä¼šè§¦å‘â€œåŠ è½½ï¼ˆloadï¼‰â€äº‹ä»¶

**è§£æž HTML ç½‘é¡µæ—¶æ°¸è¿œä¸ä¼šå‡ºçŽ°â€œæ— æ•ˆè¯­æ³•ï¼ˆInvalid Syntaxï¼‰â€é”™è¯¯ï¼Œæµè§ˆå™¨ä¼šä¿®å¤æ‰€æœ‰é”™è¯¯å†…å®¹ï¼Œç„¶åŽç»§ç»­è§£æž**


---
---
---

## å‚è€ƒé“¾æŽ¥
é˜®ä¸€å³°,[äº’è”ç½‘åè®®å…¥é—¨](http://www.ruanyifeng.com/blog/2012/05/internet_protocol_suite_part_i.html)

skyline7548,[what-happens-when-zh_CN](https://github.com/skyline75489/what-happens-when-zh_CN)

Lynn Fisher,[A Single Div](http://a.singlediv.com)

--

###	Tigs

google.com(172.217.27.142) www.google.com(93.46.8.89) translate.google.com(74.125.23.102)

baidu.com(220.181.57.217) www.baidu.com(61.135.169.121) pan.baidu.com(111.206.37.70)

zhihu.com,www.zhihu.com(118.178.213.186)

douban.com,www.douban.com(115.182.201.8)

t.tt(58.83.202.231)

a.singlediv.com

**Punycoding  [  https://ðŸ¤£ðŸ˜ðŸ™„.com  >>  https://xn--t28hkdt5g.com  ]**